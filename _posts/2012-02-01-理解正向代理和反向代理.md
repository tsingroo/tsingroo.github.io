---
author: tsingroo
date: 2012-02-01 03:06:05+00:00
layout: post
title: '[re]理解正向代理和反向代理'
---

From:[http://www.aslibra.com/blog/post/forward_reverse_proxy_squid.php](http://www.aslibra.com/blog/post/forward_reverse_proxy_squid.php)


正向代理和反向代理是forward/reverse proxy的意思，在代理功能上来讲，有一点不太一样。
举个例子：
你要去租房，你找房屋中介找房子，房屋中介找房屋的全权代理人要房子，房屋的全权代理人是由户主委托的。
这里有四个角色：
你=client
房屋中介=forword proxy
代理人=reverse proxy
户主=server
<!-- more -->客户端访问网络如果需要指定某个代理服务器为你去获取内容，那就是正向代理
而服务器隐藏在代理服务器后面，让代理服务器作为冲锋陷阵的，那这个代理服务器就是反向代理

而squid是一个 forword/reverse proxy，两个功能兼备，一般可以作为局域网的上网缓存，此时作为正向代理。
一般服务器会让squid作为前端，那就是充当反向代理，反向代理有很多软件都可以，比如nginx、lighttpd，但他们两个一般做不了正向代理。

参考阅读1：正向代理和反向代理
http://smilingthorn.blog.ccidnet.com/blog-htm-do-showone-uid-61477-type-blog-itemid-182179.html





引用




正向代理是一个位于客户端和原始服务器(origin server)之间的服务器，为了从原始服务器取得内容，客户端向代理发送一个请求并指定目标(原始服务器)，然后代理向原始服务器转交请求并将获得的内容返回给客户端。客户端必须要进行一些特别的设置才能使用正向代理。正向代理的典型用途是为在防火墙内的局域网客户端提供访问Internet的途径。正向代理还可以使用缓冲特性(由mod_cache提供)减少网络使用率。使用ProxyRequests指令即可激活正向代理。因为正向代理允许客户端通过它访问任意网站并且隐藏客户端自身，因此你必须采取安全措施以确保仅为经过授权的客户端提供服务。反向代理正好相反，对于客户端而言它就像是原始服务器，并且客户端不需要进行任何特别的设置。客户端向反向代理的名字空间(name-space)中的内容发送普通请求，接着反向代理将判断向何处(原始服务器)转交请求，并将获得的内容返回给客户端，就像这些内容原本就是它自己的一样。反向代理的典型用途是将防火墙后面的服务器提供给Internet用户访问。反向代理还可以为后端的多台服务器提供负载平衡，或为后端较慢的服务器提供缓冲服务。另外，还可以启用高级URL策略和管理技术，从而使处于不同web服务器系统的web页面同时存在于同一个URL空间下。





参考阅读2：认识正向代理与反向代理
http://zhuzhsh.javaeye.com/blog/293437





引用




1.正向代理的概念

正向代理 是一个位于客户端和原始服务器(origin server)之间的服务器，为了从原始服务器取得内容，客户端向代理发送一个请求并指定目标(原始服务器)，然后代理向原始服务器转交请求并将获得的内容返回给客户端。客户端必须要进行一些特别的设置才能使用正向代理。

2.反向代理的概念

反向代理正好相反，对于客户端而言它就像是原始服务器，并且客户端不需要进行任何特别的设置。客户端向反向代理的命名空间(name-space)中的内容发送普通请求，接着反向代理将判断向何处(原始服务器)转交请求，并将获得的内容返回给客户端，就像这些内容原本就是它自己的一样。

3. 两者区别

从用途上来讲：

正向代理的典型用途是为在防火墙内的局域网客户端提供访问Internet的途径。正向代理还可以使用缓冲特性减少网络使用率。反向代理的典型用途是将防火墙后面的服务器提供给Internet用户访问。反向代理还可以为后端的多台服务器提供负载平衡，或为后端较慢的服务器提供缓冲服务。
另外，反向代理还可以启用高级URL策略和管理技术，从而使处于不同web服务器系统的web页面同时存在于同一个URL空间下。

从安全性来讲：

正向代理允许客户端通过它访问任意网站并且隐藏客户端自身，因此你必须采取安全措施以确保仅为经过授权的客户端提供服务。
反向代理对外都是透明的，访问者并不知道自己访问的是一个代理。
