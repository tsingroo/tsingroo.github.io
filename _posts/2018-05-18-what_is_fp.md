---
author: tsingroo
date: 2018-05-18 11:30:50+08:00
layout: post
title: '我对函数式编程的理解'
---

 > 一年半没有写博客，记了许多笔记，现在再度回归写一篇文章。仅说出我个人对函数是编程的理解，欢迎讨论。

##### 首先函数式编程最重要的几个原则
* 变量不变性(immutable)
* 函数是一等公民(first class citizen)
* 无副作用(no side effect)

函数是一等公民和无副作用比较容易理解，本篇重点说什么是变量不变以及这个原则为什么重要(函数里面能用常量的地方尽量用常量)

### 变量不变性最直观的理解就是让所有变量不可变，很多人就说这不就是使用常量吗。对，就是使用常量。
个人认为变量不变性才是函数式编程最核心的内容，无副作用也只是它的一个产物。当变量都用常量代替后，函数的行为就变得更可以预测了。

很多人就说如何没了变量还能编程吗？答案当然是能，下面举几个例子说一下。以JS代码为例(也许你对下面函数比较熟悉，也希望你能从这篇文章获得收益)

##### 1.如果不使用变量如何对数组每一项进行操作？

如果普通的命令式编程，就是使用for循环去依次处理，将新产生的数据push到一个新的队列
而如果是依据变量不可变原则，很明显就不能有数组push的操作。所以我们使用map函数对数组的每一个元素进行操作然后返回一个新的数组。
```JavaScript
const arr = [1, 2, 3]
const doubleArr = arr.map((item)=>{return item * 2 })
```

##### 2.不适用变量的情况下如何对数组求和？
命令式编程里面也是使用for循环，然后使用一个变量来求和.函数式里面我们可以使用reduce函数进行求和操作。
```JavaScript
const arr = [1, 2, 3]
const sum = arr.reduce((first, second)=>{return first + second })
```

##### 3.不使用变量如何从数组中选出合适的元素
按照以前思路我们都是遍历获取合适元素，然后push到一个数组，现在我们使用的是filter


```JavaScript
const arr = [1, 2, 3]
const filterArr = arr.filter((item) => { return item%2 == 0 })
```

##### 最后再强调一下，能用常量的尽量用常量，可以避免影响其他作用域的变量，消除副作用．
